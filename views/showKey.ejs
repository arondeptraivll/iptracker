<%- include('partials/header_vietnamese') %>

<div class="container" style="text-align: center; margin-top: 15vh;">
    <article>
        <header>
            <h2>ğŸ‰ Key cá»§a báº¡n Ä‘Ã¢y! ğŸ‰</h2>
        </header>
        <p>HÃ£y sao chÃ©p Key bÃªn dÆ°á»›i vÃ  dÃ¡n vÃ o trang <strong>Quáº£n lÃ½ Key</strong> Ä‘á»ƒ kÃ­ch hoáº¡t.</p>
        
        <div style="background: var(--pico-form-element-background-color); padding: 1rem; border-radius: var(--pico-border-radius); margin-bottom: 1rem; border: 1px dashed var(--pico-muted-border-color);">
            <code id="key-string" style="font-size: 1.1rem; word-break: break-all;"><%= keyData.keyString %></code>
        </div>
        
        <button id="copy-btn" onclick="copyKey()">Sao chÃ©p Key</button>
        
        <p style="margin-top:1rem;"><small>Key sáº½ háº¿t háº¡n lÃºc: <%= new Date(keyData.expiresAt).toLocaleString('vi-VN') %></small></p>
        
        <footer>
            <a href="/key">Quay láº¡i trang quáº£n lÃ½ Key</a>
        </footer>
    </article>
</div>

<script>
    function copyKey(){
        const keyText = document.getElementById('key-string').innerText;
        const copyBtn = document.getElementById('copy-btn');
        navigator.clipboard.writeText(keyText).then(() => {
            copyBtn.textContent = 'âœ… ÄÃ£ sao chÃ©p!';
            copyBtn.classList.add('secondary');
            setTimeout(() => {
                copyBtn.textContent = 'Sao chÃ©p Key';
                copyBtn.classList.remove('secondary');
            }, 2000);
        }, () => {
            alert('Lá»—i! KhÃ´ng thá»ƒ tá»± Ä‘á»™ng sao chÃ©p. Vui lÃ²ng sao chÃ©p thá»§ cÃ´ng.');
        });
    }
</script>

<%- include('partials/footer_vietnamese') %>
